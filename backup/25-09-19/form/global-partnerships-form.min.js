/*! jQuery UI - v1.12.1 - 2018-11-07
* http://jqueryui.com
* Includes: widget.js, position.js, keycode.js, unique-id.js, widgets/autocomplete.js, widgets/menu.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(b){b.ui=b.ui||{},b.ui.version="1.12.1";var c=0,a=Array.prototype.slice;b.cleanData=function(d){return function(f){var g,j,h;for(h=0;null!=(j=f[h]);h++){try{g=b._data(j,"events"),g&&g.remove&&b(j).triggerHandler("remove")}catch(e){}}d(f)}}(b.cleanData),b.widget=function(p,k,t){var g,f,q,d={},j=p.split(".")[0];p=p.split(".")[1];var m=j+"-"+p;return t||(t=k,k=b.Widget),b.isArray(t)&&(t=b.extend.apply(null,[{}].concat(t))),b.expr[":"][m.toLowerCase()]=function(h){return !!b.data(h,m)},b[j]=b[j]||{},g=b[j][p],f=b[j][p]=function(h,i){return this._createWidget?(arguments.length&&this._createWidget(h,i),void 0):new f(h,i)},b.extend(f,g,{version:t.version,_proto:b.extend({},t),_childConstructors:[]}),q=new k,q.options=b.widget.extend({},q.options),b.each(t,function(i,h){return b.isFunction(h)?(d[i]=function(){function e(){return k.prototype[i].apply(this,arguments)}function l(n){return k.prototype[i].apply(this,n)}return function(){var r,n=this._super,s=this._superApply;return this._super=e,this._superApply=l,r=h.apply(this,arguments),this._super=n,this._superApply=s,r}}(),void 0):(d[i]=h,void 0)}),f.prototype=b.widget.extend(q,{widgetEventPrefix:g?q.widgetEventPrefix||p:p},d,{constructor:f,namespace:j,widgetName:p,widgetFullName:m}),g?(b.each(g._childConstructors,function(n,h){var l=h.prototype;b.widget(l.namespace+"."+l.widgetName,f,h._proto)}),delete g._childConstructors):k._childConstructors.push(f),b.widget.bridge(p,f),f},b.widget.extend=function(h){for(var f,j,i=a.call(arguments,1),d=0,g=i.length;g>d;d++){for(f in i[d]){j=i[d][f],i[d].hasOwnProperty(f)&&void 0!==j&&(h[f]=b.isPlainObject(j)?b.isPlainObject(h[f])?b.widget.extend({},h[f],j):b.widget.extend({},j):j)}}return h},b.widget.bridge=function(f,d){var g=d.prototype.widgetFullName||f;b.fn[f]=function(j){var h="string"==typeof j,i=a.call(arguments,1),e=this;return h?this.length||"instance"!==j?this.each(function(){var k,l=b.data(this,g);return"instance"===j?(e=l,!1):l?b.isFunction(l[j])&&"_"!==j.charAt(0)?(k=l[j].apply(l,i),k!==l&&void 0!==k?(e=k&&k.jquery?e.pushStack(k.get()):k,!1):void 0):b.error("no such method '"+j+"' for "+f+" widget instance"):b.error("cannot call methods on "+f+" prior to initialization; attempted to call method '"+j+"'")}):e=void 0:(i.length&&(j=b.widget.extend.apply(null,[j].concat(i))),this.each(function(){var k=b.data(this,g);k?(k.option(j||{}),k._init&&k._init()):b.data(this,g,new d(j,this))})),e}},b.Widget=function(){},b.Widget._childConstructors=[],b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(d,e){e=b(e||this.defaultElement||this)[0],this.element=b(e),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=b(),this.hoverable=b(),this.focusable=b(),this.classesElementLookup={},e!==this&&(b.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(f){f.target===e&&this.destroy()}}),this.document=b(e.style?e.ownerDocument:e.document||e),this.window=b(this.document[0].defaultView||this.document[0].parentWindow)),this.options=b.widget.extend({},this.options,this._getCreateOptions(),d),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){var d=this;this._destroy(),b.each(this.classesElementLookup,function(f,e){d._removeClass(e,f)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:b.noop,widget:function(){return this.element},option:function(h,f){var g,k,j,d=h;if(0===arguments.length){return b.widget.extend({},this.options)}if("string"==typeof h){if(d={},g=h.split("."),h=g.shift(),g.length){for(k=d[h]=b.widget.extend({},this.options[h]),j=0;g.length-1>j;j++){k[g[j]]=k[g[j]]||{},k=k[g[j]]}if(h=g.pop(),1===arguments.length){return void 0===k[h]?null:k[h]}k[h]=f}else{if(1===arguments.length){return void 0===this.options[h]?null:this.options[h]}d[h]=f}}return this._setOptions(d),this},_setOptions:function(d){var f;for(f in d){this._setOption(f,d[f])}return this},_setOption:function(d,f){return"classes"===d&&this._setOptionClasses(f),this.options[d]=f,"disabled"===d&&this._setOptionDisabled(f),this},_setOptionClasses:function(g){var d,f,h;for(d in g){h=this.classesElementLookup[d],g[d]!==this.options.classes[d]&&h&&h.length&&(f=b(h.get()),this._removeClass(h,d),f.addClass(this._classes({element:f,keys:d,classes:g,add:!0})))}},_setOptionDisabled:function(d){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!d),d&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(g){function d(j,l){var e,k;for(k=0;j.length>k;k++){e=h.classesElementLookup[j[k]]||b(),e=g.add?b(b.unique(e.get().concat(g.element.get()))):b(e.not(g.element).get()),h.classesElementLookup[j[k]]=e,f.push(j[k]),l&&g.classes[j[k]]&&f.push(g.classes[j[k]])}}var f=[],h=this;return g=b.extend({element:this.element,classes:this.options.classes||{}},g),this._on(g.element,{remove:"_untrackClassesElement"}),g.keys&&d(g.keys.match(/\S+/g)||[],!0),g.extra&&d(g.extra.match(/\S+/g)||[]),f.join(" ")},_untrackClassesElement:function(f){var d=this;b.each(d.classesElementLookup,function(e,g){-1!==b.inArray(f.target,g)&&(d.classesElementLookup[e]=b(g.not(f.target).get()))})},_removeClass:function(f,g,d){return this._toggleClass(f,g,d,!1)},_addClass:function(f,g,d){return this._toggleClass(f,g,d,!0)},_toggleClass:function(f,h,d,g){g="boolean"==typeof g?g:d;var k="string"==typeof f||null===f,j={extra:k?h:d,keys:k?f:h,element:k?this.element:f,add:g};return j.element.toggleClass(this._classes(j),g),this},_on:function(g,d,f){var j,h=this;"boolean"!=typeof g&&(f=d,d=g,g=!1),f?(d=j=b(d),this.bindings=this.bindings.add(d)):(f=d,d=this.element,j=this.widget()),b.each(f,function(m,i){function n(){return g||h.options.disabled!==!0&&!b(this).hasClass("ui-state-disabled")?("string"==typeof i?h[i]:i).apply(h,arguments):void 0}"string"!=typeof i&&(n.guid=i.guid=i.guid||n.guid||b.guid++);var e=m.match(/^([\w:-]*)\s*(.*)$/),k=e[1]+h.eventNamespace,o=e[2];o?j.on(k,o,n):d.on(k,n)})},_off:function(f,d){d=(d||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,f.off(d).off(d),this.bindings=b(this.bindings.not(f).get()),this.focusable=b(this.focusable.not(f).get()),this.hoverable=b(this.hoverable.not(f).get())},_delay:function(f,h){function d(){return("string"==typeof f?g[f]:f).apply(g,arguments)}var g=this;return setTimeout(d,h||0)},_hoverable:function(d){this.hoverable=this.hoverable.add(d),this._on(d,{mouseenter:function(f){this._addClass(b(f.currentTarget),null,"ui-state-hover")},mouseleave:function(f){this._removeClass(b(f.currentTarget),null,"ui-state-hover")}})},_focusable:function(d){this.focusable=this.focusable.add(d),this._on(d,{focusin:function(f){this._addClass(b(f.currentTarget),null,"ui-state-focus")},focusout:function(f){this._removeClass(b(f.currentTarget),null,"ui-state-focus")}})},_trigger:function(h,f,g){var k,j,d=this.options[h];if(g=g||{},f=b.Event(f),f.type=(h===this.widgetEventPrefix?h:this.widgetEventPrefix+h).toLowerCase(),f.target=this.element[0],j=f.originalEvent){for(k in j){k in f||(f[k]=j[k])}}return this.element.trigger(f,g),!(b.isFunction(d)&&d.apply(this.element[0],[f].concat(g))===!1||f.isDefaultPrevented())}},b.each({show:"fadeIn",hide:"fadeOut"},function(f,d){b.Widget.prototype["_"+f]=function(g,j,i){"string"==typeof j&&(j={effect:j});var e,h=j?j===!0||"number"==typeof j?d:j.effect||d:f;j=j||{},"number"==typeof j&&(j={duration:j}),e=!b.isEmptyObject(j),j.complete=i,j.delay&&g.delay(j.delay),e&&b.effects&&b.effects.effect[h]?g[f](j):h!==f&&g[h]?g[h](j.duration,j.easing,i):g.queue(function(k){b(this)[f](),i&&i.call(g[0]),k()})}}),b.widget,function(){function q(h,l,d){return[parseFloat(h[0])*(x.test(h[0])?l/100:1),parseFloat(h[1])*(x.test(h[1])?d/100:1)]}function m(h,d){return parseInt(b.css(h,d),10)||0}function y(h){var d=h[0];return 9===d.nodeType?{width:h.width(),height:h.height(),offset:{top:0,left:0}}:b.isWindow(d)?{width:h.width(),height:h.height(),offset:{top:h.scrollTop(),left:h.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:h.outerWidth(),height:h.outerHeight(),offset:h.offset()}}var j,g=Math.max,w=Math.abs,f=/left|center|right/,k=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,v=/^\w+/,x=/%$/,t=b.fn.position;b.position={scrollbarWidth:function(){if(void 0!==j){return j}var l,d,h=b("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=h.children()[0];return b("body").append(h),l=n.offsetWidth,h.css("overflow","scroll"),d=n.offsetWidth,l===d&&(d=h[0].clientWidth),h.remove(),j=l-d},getScrollInfo:function(l){var d=l.isWindow||l.isDocument?"":l.element.css("overflow-x"),h=l.isWindow||l.isDocument?"":l.element.css("overflow-y"),u="scroll"===d||"auto"===d&&l.width<l.element[0].scrollWidth,r="scroll"===h||"auto"===h&&l.height<l.element[0].scrollHeight;return{width:r?b.position.scrollbarWidth():0,height:u?b.position.scrollbarWidth():0}},getWithinInfo:function(l){var d=b(l||window),h=b.isWindow(d[0]),u=!!d[0]&&9===d[0].nodeType,r=!h&&!u;return{element:d,isWindow:h,isDocument:u,offset:r?b(l).offset():{left:0,top:0},scrollLeft:d.scrollLeft(),scrollTop:d.scrollTop(),width:d.outerWidth(),height:d.outerHeight()}}},b.fn.position=function(e){if(!e||!e.of){return t.apply(this,arguments)}e=b.extend({},e);var C,d,o,l,h,A,B=b(e.of),s=b.position.getWithinInfo(e.within),r=b.position.getScrollInfo(s),z=(e.collision||"flip").split(" "),i={};return A=y(B),B[0].preventDefault&&(e.at="left top"),d=A.width,o=A.height,l=A.offset,h=b.extend({},l),b.each(["my","at"],function(){var u,D,n=(e[this]||"").split(" ");1===n.length&&(n=f.test(n[0])?n.concat(["center"]):k.test(n[0])?["center"].concat(n):["center","center"]),n[0]=f.test(n[0])?n[0]:"center",n[1]=k.test(n[1])?n[1]:"center",u=p.exec(n[0]),D=p.exec(n[1]),i[this]=[u?u[0]:0,D?D[0]:0],e[this]=[v.exec(n[0])[0],v.exec(n[1])[0]]}),1===z.length&&(z[1]=z[0]),"right"===e.at[0]?h.left+=d:"center"===e.at[0]&&(h.left+=d/2),"bottom"===e.at[1]?h.top+=o:"center"===e.at[1]&&(h.top+=o/2),C=q(i.at,d,o),h.left+=C[0],h.top+=C[1],this.each(function(){var M,u,F=b(this),H=F.outerWidth(),J=F.outerHeight(),I=m(this,"marginLeft"),L=m(this,"marginTop"),K=H+I+m(this,"marginRight")+r.width,E=J+L+m(this,"marginBottom")+r.height,n=b.extend({},h),G=q(i.my,F.outerWidth(),F.outerHeight());"right"===e.my[0]?n.left-=H:"center"===e.my[0]&&(n.left-=H/2),"bottom"===e.my[1]?n.top-=J:"center"===e.my[1]&&(n.top-=J/2),n.left+=G[0],n.top+=G[1],M={marginLeft:I,marginTop:L},b.each(["left","top"],function(N,D){b.ui.position[z[N]]&&b.ui.position[z[N]][D](n,{targetWidth:d,targetHeight:o,elemWidth:H,elemHeight:J,collisionPosition:M,collisionWidth:K,collisionHeight:E,offset:[C[0]+G[0],C[1]+G[1]],my:e.my,at:e.at,within:s,elem:F})}),e.using&&(u=function(O){var R=l.left-n.left,N=R+d-H,P=l.top-n.top,Q=P+o-J,D={target:{element:B,left:l.left,top:l.top,width:d,height:o},element:{element:F,left:n.left,top:n.top,width:H,height:J},horizontal:0>N?"left":R>0?"right":"center",vertical:0>Q?"top":P>0?"bottom":"middle"};H>d&&d>w(R+N)&&(D.horizontal="center"),J>o&&o>w(P+Q)&&(D.vertical="middle"),D.important=g(w(R),w(N))>g(w(P),w(Q))?"horizontal":"vertical",e.using.call(this,O,D)}),F.offset(b.extend(n,{using:u}))})},b.ui.position={fit:{left:function(D,B){var z,E=B.within,o=E.isWindow?E.scrollLeft:E.offset.left,C=E.width,d=D.left-B.collisionPosition.marginLeft,u=o-d,A=d+B.collisionWidth-C-o;B.collisionWidth>C?u>0&&0>=A?(z=D.left+u+B.collisionWidth-C-o,D.left+=u-z):D.left=A>0&&0>=u?o:u>A?o+C-B.collisionWidth:o:u>0?D.left+=u:A>0?D.left-=A:D.left=g(D.left-d,D.left)},top:function(D,B){var z,E=B.within,o=E.isWindow?E.scrollTop:E.offset.top,C=B.within.height,d=D.top-B.collisionPosition.marginTop,u=o-d,A=d+B.collisionHeight-C-o;B.collisionHeight>C?u>0&&0>=A?(z=D.top+u+B.collisionHeight-C-o,D.top+=u-z):D.top=A>0&&0>=u?o:u>A?o+C-B.collisionHeight:o:u>0?D.top+=u:A>0?D.top-=A:D.top=g(D.top-d,D.top)}},flip:{left:function(L,H){var E,M,C=H.within,B=C.offset.left+C.scrollLeft,z=C.width,D=C.isWindow?C.scrollLeft:C.offset.left,F=L.left-H.collisionPosition.marginLeft,J=F-D,K=F+H.collisionWidth-z-D,I="left"===H.my[0]?-H.elemWidth:"right"===H.my[0]?H.elemWidth:0,A="left"===H.at[0]?H.targetWidth:"right"===H.at[0]?-H.targetWidth:0,G=-2*H.offset[0];0>J?(E=L.left+I+A+G+H.collisionWidth-z-B,(0>E||w(J)>E)&&(L.left+=I+A+G)):K>0&&(M=L.left-H.collisionPosition.marginLeft+I+A+G-D,(M>0||K>w(M))&&(L.left+=I+A+G))},top:function(M,I){var E,N,C=I.within,B=C.offset.top+C.scrollTop,z=C.height,D=C.isWindow?C.scrollTop:C.offset.top,F=M.top-I.collisionPosition.marginTop,K=F-D,L=F+I.collisionHeight-z-D,J="top"===I.my[1],A=J?-I.elemHeight:"bottom"===I.my[1]?I.elemHeight:0,H="top"===I.at[1]?I.targetHeight:"bottom"===I.at[1]?-I.targetHeight:0,G=-2*I.offset[1];0>K?(N=M.top+A+H+G+I.collisionHeight-z-B,(0>N||w(K)>N)&&(M.top+=A+H+G)):L>0&&(E=M.top-I.collisionPosition.marginTop+A+H+G-D,(E>0||L>w(E))&&(M.top+=A+H+G))}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments),b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments),b.ui.position.fit.top.apply(this,arguments)}}}}(),b.ui.position,b.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},b.fn.extend({uniqueId:function(){var d=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&b(this).removeAttr("id")})}}),b.ui.safeActiveElement=function(f){var g;try{g=f.activeElement}catch(d){g=f.body}return g||(g=f.body),g.nodeName||(g=f.body),g},b.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(d){d.preventDefault()},"click .ui-menu-item":function(g){var d=b(g.target),f=b(b.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.select(g),g.isPropagationStopped()||(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(g):!this.element.is(":focus")&&f.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(g){if(!this.previousFilter){var d=b(g.target).closest(".ui-menu-item"),f=b(g.currentTarget);d[0]===f[0]&&(this._removeClass(f.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(g,f))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(f,g){var d=this.active||this.element.find(this.options.items).eq(0);g||this.focus(f,d)},blur:function(d){this._delay(function(){var e=!b.contains(this.element[0],b.ui.safeActiveElement(this.document[0]));e&&this.collapseAll(d)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(d){this._closeOnDocumentClick(d)&&this.collapseAll(d),this.mouseHandled=!1}})},_destroy:function(){var f=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),d=f.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),d.children().each(function(){var g=b(this);g.data("ui-menu-submenu-caret")&&g.remove()})},_keydown:function(h){var f,g,k,j,d=!0;switch(h.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(h);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(h);break;case b.ui.keyCode.HOME:this._move("first","first",h);break;case b.ui.keyCode.END:this._move("last","last",h);break;case b.ui.keyCode.UP:this.previous(h);break;case b.ui.keyCode.DOWN:this.next(h);break;case b.ui.keyCode.LEFT:this.collapse(h);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(h);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(h);break;case b.ui.keyCode.ESCAPE:this.collapse(h);break;default:d=!1,g=this.previousFilter||"",j=!1,k=h.keyCode>=96&&105>=h.keyCode?""+(h.keyCode-96):String.fromCharCode(h.keyCode),clearTimeout(this.filterTimer),k===g?j=!0:k=g+k,f=this._filterMenuItems(k),f=j&&-1!==f.index(this.active.next())?this.active.nextAll(".ui-menu-item"):f,f.length||(k=String.fromCharCode(h.keyCode),f=this._filterMenuItems(k)),f.length?(this.focus(h,f),this.previousFilter=k,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter}d&&h.preventDefault()},_activate:function(d){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(d):this.select(d))},refresh:function(){var k,g,h,p,m,f=this,j=this.options.icons.submenu,d=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),h=d.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var o=b(this),l=o.prev(),n=b("<span>").data("ui-menu-submenu-caret",!0);f._addClass(n,"ui-menu-icon","ui-icon "+j),l.attr("aria-haspopup","true").prepend(n),o.attr("aria-labelledby",l.attr("id"))}),this._addClass(h,"ui-menu","ui-widget ui-widget-content ui-front"),k=d.add(this.element),g=k.find(this.options.items),g.not(".ui-menu-item").each(function(){var i=b(this);f._isDivider(i)&&f._addClass(i,"ui-menu-divider","ui-widget-content")}),p=g.not(".ui-menu-item, .ui-menu-divider"),m=p.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(p,"ui-menu-item")._addClass(m,"ui-menu-item-wrapper"),g.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(f,g){if("icons"===f){var d=this.element.find(".ui-menu-icon");this._removeClass(d,null,this.options.icons.submenu)._addClass(d,null,g.submenu)}this._super(f,g)},_setOptionDisabled:function(d){this._super(d),this.element.attr("aria-disabled",d+""),this._toggleClass(null,"ui-state-disabled",!!d)},focus:function(f,h){var d,g,j;this.blur(f,f&&"focus"===f.type),this._scrollIntoView(h),this.active=h.first(),g=this.active.children(".ui-menu-item-wrapper"),this._addClass(g,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",g.attr("id")),j=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(j,null,"ui-state-active"),f&&"keydown"===f.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),d=h.children(".ui-menu"),d.length&&f&&/^mouse/.test(f.type)&&this._startOpening(d),this.activeMenu=h.parent(),this._trigger("focus",f,{item:h})},_scrollIntoView:function(j){var f,g,l,k,d,h;this._hasScroll()&&(f=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,g=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,l=j.offset().top-this.activeMenu.offset().top-f-g,k=this.activeMenu.scrollTop(),d=this.activeMenu.height(),h=j.outerHeight(),0>l?this.activeMenu.scrollTop(k+l):l+h>d&&this.activeMenu.scrollTop(k+l-d+h))},blur:function(d,f){f||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",d,{item:this.active}),this.active=null)},_startOpening:function(d){clearTimeout(this.timer),"true"===d.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(d)},this.delay))},_open:function(f){var d=b.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(f.parents(".ui-menu")).hide().attr("aria-hidden","true"),f.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(f,d){clearTimeout(this.timer),this.timer=this._delay(function(){var e=d?this.element:b(f&&f.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(f),this._removeClass(e.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=e},this.delay)},_close:function(d){d||(d=this.active?this.active.parent():this.element),d.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(d){return !b(d.target).closest(".ui-menu").length},_isDivider:function(d){return !/[^\-\u2014\u2013\s]/.test(d.text())},collapse:function(d){var f=this.active&&this.active.parent().closest(".ui-menu-item",this.element);f&&f.length&&(this._close(),this.focus(d,f))},expand:function(d){var f=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();f&&f.length&&(this._open(f.parent()),this._delay(function(){this.focus(d,f)}))},next:function(d){this._move("next","first",d)},previous:function(d){this._move("prev","last",d)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(f,h,d){var g;this.active&&(g="first"===f||"last"===f?this.active["first"===f?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[f+"All"](".ui-menu-item").eq(0)),g&&g.length&&this.active||(g=this.activeMenu.find(this.options.items)[h]()),this.focus(d,g)},nextPage:function(g){var d,f,h;return this.active?(this.isLastItem()||(this._hasScroll()?(f=this.active.offset().top,h=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return d=b(this),0>d.offset().top-f-h}),this.focus(g,d)):this.focus(g,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(g),void 0)},previousPage:function(g){var d,f,h;return this.active?(this.isFirstItem()||(this._hasScroll()?(f=this.active.offset().top,h=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return d=b(this),d.offset().top-f+h>0}),this.focus(g,d)):this.focus(g,this.activeMenu.find(this.options.items).first())),void 0):(this.next(g),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(f){this.active=this.active||b(f.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(f,!0),this._trigger("select",f,d)},_filterMenuItems:function(g){var d=g.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),f=RegExp("^"+d,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return f.test(b.trim(b(this).children(".ui-menu-item-wrapper").text()))})}}),b.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var h,f,g,k=this.element[0].nodeName.toLowerCase(),j="textarea"===k,d="input"===k;this.isMultiLine=j||!d&&this._isContentEditable(this.element),this.valueMethod=this.element[j||d?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){return h=!0,g=!0,f=!0,void 0}h=!1,g=!1,f=!1;var e=b.ui.keyCode;switch(i.keyCode){case e.PAGE_UP:h=!0,this._move("previousPage",i);break;case e.PAGE_DOWN:h=!0,this._move("nextPage",i);break;case e.UP:h=!0,this._keyEvent("previous",i);break;case e.DOWN:h=!0,this._keyEvent("next",i);break;case e.ENTER:this.menu.active&&(h=!0,i.preventDefault(),this.menu.select(i));break;case e.TAB:this.menu.active&&this.menu.select(i);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:f=!0,this._searchTimeout(i)}},keypress:function(e){if(h){return h=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&e.preventDefault(),void 0}if(!f){var i=b.ui.keyCode;switch(e.keyCode){case i.PAGE_UP:this._move("previousPage",e);break;case i.PAGE_DOWN:this._move("nextPage",e);break;case i.UP:this._keyEvent("previous",e);break;case i.DOWN:this._keyEvent("next",e)}}},input:function(e){return g?(g=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=b("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(i){i.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==b.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(o,l){var m,p;return this.isNewMenu&&(this.isNewMenu=!1,o.originalEvent&&/^mouse/.test(o.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){b(o.target).trigger(o.originalEvent)}),void 0):(p=l.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",o,{item:p})&&o.originalEvent&&/^key/.test(o.originalEvent.type)&&this._value(p.value),m=l.item.attr("aria-label")||p.value,m&&b.trim(m).length&&(this.liveRegion.children().hide(),b("<div>").text(m).appendTo(this.liveRegion)),void 0)},menuselect:function(o,l){var m=l.item.data("ui-autocomplete-item"),p=this.previous;this.element[0]!==b.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=p,this._delay(function(){this.previous=p,this.selectedItem=m})),!1!==this._trigger("select",o,{item:m})&&this._value(m.value),this.term=this._value(),this.close(o),this.selectedItem=m}}),this.liveRegion=b("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(d,f){this._super(d,f),"source"===d&&this._initSource(),"appendTo"===d&&this.menu.element.appendTo(this._appendTo()),"disabled"===d&&f&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(f){var d=this.menu.element[0];return f.target===this.element[0]||f.target===d||b.contains(d,f.target)},_closeOnClickOutside:function(d){this._isEventTargetInWidget(d)||this.close()},_appendTo:function(){var d=this.options.appendTo;return d&&(d=d.jquery||d.nodeType?b(d):this.document.find(d).eq(0)),d&&d[0]||(d=this.element.closest(".ui-front, dialog")),d.length||(d=this.document[0].body),d},_initSource:function(){var g,d,f=this;b.isArray(this.options.source)?(g=this.options.source,this.source=function(e,h){h(b.ui.autocomplete.filter(g,e.term))}):"string"==typeof this.options.source?(d=this.options.source,this.source=function(h,i){f.xhr&&f.xhr.abort(),f.xhr=b.ajax({url:d,data:h,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(d){clearTimeout(this.searching),this.searching=this._delay(function(){var h=this.term===this._value(),f=this.menu.element.is(":visible"),g=d.altKey||d.ctrlKey||d.metaKey||d.shiftKey;(!h||h&&!f&&!g)&&(this.selectedItem=null,this.search(null,d))},this.options.delay)},search:function(d,f){return d=null!=d?d:this._value(),this.term=this._value(),d.length<this.options.minLength?this.close(f):this._trigger("search",f)!==!1?this._search(d):void 0},_search:function(d){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:d},this._response())},_response:function(){var d=++this.requestIndex;return b.proxy(function(e){d===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(d){d&&(d=this._normalize(d)),this._trigger("response",null,{content:d}),!this.options.disabled&&d&&d.length&&!this.cancelSearch?(this._suggest(d),this._trigger("open")):this._close()},close:function(d){this.cancelSearch=!0,this._close(d)},_close:function(d){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",d))},_change:function(d){this.previous!==this._value()&&this._trigger("change",d,{item:this.selectedItem})},_normalize:function(d){return d.length&&d[0].label&&d[0].value?d:b.map(d,function(f){return"string"==typeof f?{label:f,value:f}:b.extend({},f,{label:f.label||f.value,value:f.value||f.label})})},_suggest:function(f){var d=this.menu.element.empty();this._renderMenu(d,f),this.isNewMenu=!0,this.menu.refresh(),d.show(),this._resizeMenu(),d.position(b.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(g,d){var f=this;b.each(d,function(h,e){f._renderItemData(g,e)})},_renderItemData:function(d,f){return this._renderItem(d,f).data("ui-autocomplete-item",f)},_renderItem:function(f,d){return b("<li>").append(b("<div>").text(d.label)).appendTo(f)},_move:function(d,f){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(d)||this.menu.isLastItem()&&/^next/.test(d)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[d](f),void 0):(this.search(null,f),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(d,f){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(d,f),f.preventDefault())},_isContentEditable:function(d){if(!d.length){return !1}var f=d.prop("contentEditable");return"inherit"===f?this._isContentEditable(d.parent()):"true"===f}}),b.extend(b.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(g,d){var f=RegExp(b.ui.autocomplete.escapeRegex(d),"i");return b.grep(g,function(e){return f.test(e.label||e.value||e)})}}),b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(d){return d+(d>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(f){var d;this._superApply(arguments),this.options.disabled||this.cancelSearch||(d=f&&f.length?this.options.messages.results(f.length):this.options.messages.noResults,this.liveRegion.children().hide(),b("<div>").text(d).appendTo(this.liveRegion))}}),b.ui.autocomplete});
/*! jQuery Validation Plugin - v1.17.0 - 7/29/2017
 * https://jqueryvalidation.org/
 * Copyright (c) 2017 Jörn Zaefferer; Licensed MIT */
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(jQuery)}(function(e){e.extend(e.fn,{validate:function(a){if(!this.length){return void (a&&a.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."))}var g=e.data(this[0],"validator");return g?g:(this.attr("novalidate","novalidate"),g=new e.validator(a,this[0]),e.data(this[0],"validator",g),g.settings.onsubmit&&(this.on("click.validate",":submit",function(c){g.submitButton=c.currentTarget,e(this).hasClass("cancel")&&(g.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(g.cancelSubmit=!0)}),this.on("submit.validate",function(c){function h(){var i,b;return g.submitButton&&(g.settings.submitHandler||g.formSubmitted)&&(i=e("<input type='hidden'/>").attr("name",g.submitButton.name).val(e(g.submitButton).val()).appendTo(g.currentForm)),!g.settings.submitHandler||(b=g.settings.submitHandler.call(g,g.currentForm,c),i&&i.remove(),void 0!==b&&b)}return g.settings.debug&&c.preventDefault(),g.cancelSubmit?(g.cancelSubmit=!1,h()):g.form()?g.pendingRequest?(g.formSubmitted=!0,!1):h():(g.focusInvalid(),!1)})),g)},valid:function(){var a,h,g;return e(this[0]).is("form")?a=this.validate().form():(g=[],a=!0,h=e(this[0].form).validate(),this.each(function(){a=h.element(this)&&a,a||(g=g.concat(h.errorList))}),h.errorList=g),a},rules:function(r,q){var p,o,n,m,l,k,a=this[0];if(null!=a&&(!a.form&&a.hasAttribute("contenteditable")&&(a.form=this.closest("form")[0],a.name=this.attr("name")),null!=a.form)){if(r){switch(p=e.data(a.form,"validator").settings,o=p.rules,n=e.validator.staticRules(a),r){case"add":e.extend(n,e.validator.normalizeRule(q)),delete n.messages,o[a.name]=n,q.messages&&(p.messages[a.name]=e.extend(p.messages[a.name],q.messages));break;case"remove":return q?(k={},e.each(q.split(/\s/),function(g,c){k[c]=n[c],delete n[c]}),k):(delete o[a.name],n)}}return m=e.validator.normalizeRules(e.extend({},e.validator.classRules(a),e.validator.attributeRules(a),e.validator.dataRules(a),e.validator.staticRules(a)),a),m.required&&(l=m.required,delete m.required,m=e.extend({required:l},m)),m.remote&&(l=m.remote,delete m.remote,m=e.extend(m,{remote:l})),m}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(a){return !e.trim(""+e(a).val())},filled:function(a){var g=e(a).val();return null!==g&&!!e.trim(""+g)},unchecked:function(a){return !e(a).prop("checked")}}),e.validator=function(a,g){this.settings=e.extend(!0,{},e.validator.defaults,a),this.currentForm=g,this.init()},e.validator.format=function(a,g){return 1===arguments.length?function(){var b=e.makeArray(arguments);return b.unshift(a),e.validator.format.apply(this,b)}:void 0===g?a:(arguments.length>2&&g.constructor!==Array&&(g=e.makeArray(arguments).slice(1)),g.constructor!==Array&&(g=[g]),e.each(g,function(b,h){a=a.replace(new RegExp("\\{"+b+"\\}","g"),function(){return h})}),a)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(b){this.lastActive=b,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(b)))},onfocusout:function(b){this.checkable(b)||!(b.name in this.submitted)&&this.optional(b)||this.element(b)},onkeyup:function(a,h){var g=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===h.which&&""===this.elementValue(a)||e.inArray(h.keyCode,g)!==-1||(a.name in this.submitted||a.name in this.invalid)&&this.element(a)},onclick:function(b){b.name in this.submitted?this.element(b):b.parentNode.name in this.submitted&&this.element(b.parentNode)},highlight:function(a,h,g){"radio"===a.type?this.findByName(a.name).addClass(h).removeClass(g):e(a).addClass(h).removeClass(g)},unhighlight:function(a,h,g){"radio"===a.type?this.findByName(a.name).removeClass(h).addClass(g):e(a).removeClass(h).addClass(g)}},setDefaults:function(a){e.extend(e.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function a(i){!this.form&&this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name"));var l=e.data(this.form,"validator"),k="on"+i.type.replace(/^validate/,""),j=l.settings;j[k]&&!e(this).is(j.ignore)&&j[k].call(l,this,i)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var h,g=this.groups={};e.each(this.settings.groups,function(i,j){"string"==typeof j&&(j=j.split(/\s/)),e.each(j,function(b,k){g[k]=i})}),h=this.settings.rules,e.each(h,function(c,i){h[c]=e.validator.normalizeRule(i)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",a).on("click.validate","select, option, [type='radio'], [type='checkbox']",a),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var g=0,c=this.currentElements=this.elements();c[g];g++){this.check(c[g])}return this.valid()},element:function(a){var n,m,l=this.clean(a),k=this.validationTargetFor(l),j=this,i=!0;return void 0===k?delete this.invalid[l.name]:(this.prepareElement(k),this.currentElements=e(k),m=this.groups[k.name],m&&e.each(this.groups,function(g,c){c===m&&g!==k.name&&(l=j.validationTargetFor(j.clean(j.findByName(g))),l&&l.name in j.invalid&&(j.currentElements.push(l),i=j.check(l)&&i))}),n=this.check(k)!==!1,i=i&&n,n?this.invalid[k.name]=!1:this.invalid[k.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(a).attr("aria-invalid",!n)),i},showErrors:function(a){if(a){var g=this;e.extend(this.errorMap,a),this.errorList=e.map(this.errorMap,function(h,c){return{message:h,element:g.findByName(c)[0]}}),this.successList=e.grep(this.successList,function(b){return !(b.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var a=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(a)},resetElements:function(g){var c;if(this.settings.unhighlight){for(c=0;g[c];c++){this.settings.unhighlight.call(this,g[c],this.settings.errorClass,""),this.findByName(g[c].name).removeClass(this.settings.validClass)}}else{g.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)}},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(h){var g,i=0;for(g in h){void 0!==h[g]&&null!==h[g]&&h[g]!==!1&&i++}return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(b){b.not(this.containers).text(""),this.addWrapper(b).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}}},findLastActive:function(){var a=this.lastActive;return a&&1===e.grep(this.errorList,function(b){return b.element.name===a.name}).length&&a},elements:function(){var a=this,g={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var b=this.name||e(this).attr("name");return !b&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0],this.name=b),!(b in g||!a.objectLength(e(this).rules()))&&(g[b]=!0,!0)})},clean:function(a){return e(a)[0]},errors:function(){var a=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+a,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset(),this.toHide=this.errorsFor(b)},elementValue:function(a){var j,i,h=e(a),g=a.type;return"radio"===g||"checkbox"===g?this.findByName(a.name).filter(":checked").val():"number"===g&&"undefined"!=typeof a.validity?a.validity.badInput?"NaN":h.val():(j=a.hasAttribute("contenteditable")?h.text():h.val(),"file"===g?"C:\\fakepath\\"===j.substr(0,12)?j.substr(12):(i=j.lastIndexOf("/"),i>=0?j.substr(i+1):(i=j.lastIndexOf("\\"),i>=0?j.substr(i+1):j)):"string"==typeof j?j.replace(/\r/g,""):j)},check:function(t){t=this.validationTargetFor(this.clean(t));var s,r,q,p,o=e(t).rules(),n=e.map(o,function(g,c){return c}).length,m=!1,l=this.elementValue(t);if("function"==typeof o.normalizer?p=o.normalizer:"function"==typeof this.settings.normalizer&&(p=this.settings.normalizer),p){if(l=p.call(t,l),"string"!=typeof l){throw new TypeError("The normalizer should return a string value.")}delete o.normalizer}for(r in o){q={method:r,parameters:o[r]};try{if(s=e.validator.methods[r].call(this,l,t,q.parameters),"dependency-mismatch"===s&&1===n){m=!0;continue}if(m=!1,"pending"===s){return void (this.toHide=this.toHide.not(this.errorsFor(t)))}if(!s){return this.formatAndAdd(t,q),!1}}catch(a){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+q.method+"' method.",a),a instanceof TypeError&&(a.message+=".  Exception occurred when checking element "+t.id+", check the '"+q.method+"' method."),a}}if(!m){return this.objectLength(o)&&this.successList.push(t),!0}},customDataMessage:function(a,g){return e(a).data("msg"+g.charAt(0).toUpperCase()+g.substring(1).toLowerCase())||e(a).data("msg")},customMessage:function(h,g){var i=this.settings.messages[h];return i&&(i.constructor===String?i:i[g])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(void 0!==arguments[b]){return arguments[b]}}},defaultMessage:function(a,i){"string"==typeof i&&(i={method:i});var h=this.findDefined(this.customMessage(a.name,i.method),this.customDataMessage(a,i.method),!this.settings.ignoreTitle&&a.title||void 0,e.validator.messages[i.method],"<strong>Warning: No message defined for "+a.name+"</strong>"),g=/\$?\{(\d+)\}/g;return"function"==typeof h?h=h.call(this,i.parameters,a):g.test(h)&&(h=e.validator.format(h.replace(g,"{$1}"),i.parameters)),h},formatAndAdd:function(h,g){var i=this.defaultMessage(h,g);this.errorList.push({message:i,element:h,method:g.method}),this.errorMap[h.name]=i,this.submitted[h.name]=i},addWrapper:function(b){return this.settings.wrapper&&(b=b.add(b.parent(this.settings.wrapper))),b},defaultShowErrors:function(){var h,g,i;for(h=0;this.errorList[h];h++){i=this.errorList[h],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success){for(h=0;this.successList[h];h++){this.showLabel(this.successList[h])}}if(this.settings.unhighlight){for(h=0,g=this.validElements();g[h];h++){this.settings.unhighlight.call(this,g[h],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(r,q){var p,o,n,m,l=this.errorsFor(r),k=this.idOrName(r),a=e(r).attr("aria-describedby");l.length?(l.removeClass(this.settings.validClass).addClass(this.settings.errorClass),l.html(q)):(l=e("<"+this.settings.errorElement+">").attr("id",k+"-error").addClass(this.settings.errorClass).html(q||""),p=l,this.settings.wrapper&&(p=l.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(p):this.settings.errorPlacement?this.settings.errorPlacement.call(this,p,e(r)):p.insertAfter(r),l.is("label")?l.attr("for",k):0===l.parents("label[for='"+this.escapeCssMeta(k)+"']").length&&(n=l.attr("id"),a?a.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))||(a+=" "+n):a=n,e(r).attr("aria-describedby",a),o=this.groups[r.name],o&&(m=this,e.each(m.groups,function(g,h){h===o&&e("[name='"+m.escapeCssMeta(g)+"']",m.currentForm).attr("aria-describedby",l.attr("id"))})))),!q&&this.settings.success&&(l.text(""),"string"==typeof this.settings.success?l.addClass(this.settings.success):this.settings.success(l,r)),this.toShow=this.toShow.add(l)},errorsFor:function(a){var i=this.escapeCssMeta(this.idOrName(a)),h=e(a).attr("aria-describedby"),g="label[for='"+i+"'], label[for='"+i+"'] *";return h&&(g=g+", #"+this.escapeCssMeta(h).replace(/\s+/g,", #")),this.errors().filter(g)},escapeCssMeta:function(b){return b.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name)),e(a).not(this.settings.ignore)[0]},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(a){return e(this.currentForm).find("[name='"+this.escapeCssMeta(a)+"']")},getLength:function(a,g){switch(g.nodeName.toLowerCase()){case"select":return e("option:selected",g).length;case"input":if(this.checkable(g)){return this.findByName(g.name).filter(":checked").length}}return a.length},depend:function(g,c){return !this.dependTypes[typeof g]||this.dependTypes[typeof g](g,c)},dependTypes:{"boolean":function(b){return b},string:function(a,g){return !!e(a,g.form).length},"function":function(g,c){return g(c)}},optional:function(a){var g=this.elementValue(a);return !e.validator.methods.required.call(this,g,a)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,e(a).addClass(this.settings.pendingClass),this.pending[a.name]=!0)},stopRequest:function(a,g){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[a.name],e(a).removeClass(this.settings.pendingClass),g&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!g&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(a,g){return g="string"==typeof g&&g||"remote",e.data(a,"previousValue")||e.data(a,"previousValue",{old:null,valid:!0,message:this.defaultMessage(a,{method:g})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(a,g){a.constructor===String?this.classRuleSettings[a]=g:e.extend(this.classRuleSettings,a)},classRules:function(a){var h={},g=e(a).attr("class");return g&&e.each(g.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(h,e.validator.classRuleSettings[this])}),h},normalizeAttributeRule:function(h,g,j,i){/min|max|step/.test(j)&&(null===g||/number|range|text/.test(g))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?h[j]=i:g===j&&"range"!==g&&(h[j]=!0)},attributeRules:function(a){var l,k,j={},i=e(a),h=a.getAttribute("type");for(l in e.validator.methods){"required"===l?(k=a.getAttribute(l),""===k&&(k=!0),k=!!k):k=i.attr(l),this.normalizeAttributeRule(j,h,l,k)}return j.maxlength&&/-1|2147483647|524288/.test(j.maxlength)&&delete j.maxlength,j},dataRules:function(a){var l,k,j={},i=e(a),h=a.getAttribute("type");for(l in e.validator.methods){k=i.data("rule"+l.charAt(0).toUpperCase()+l.substring(1).toLowerCase()),this.normalizeAttributeRule(j,h,l,k)}return j},staticRules:function(a){var h={},g=e.data(a.form,"validator");return g.settings.rules&&(h=e.validator.normalizeRule(g.settings.rules[a.name])||{}),h},normalizeRules:function(a,g){return e.each(a,function(h,c){if(c===!1){return void delete a[h]}if(c.param||c.depends){var b=!0;switch(typeof c.depends){case"string":b=!!e(c.depends,g.form).length;break;case"function":b=c.depends.call(g,g)}b?a[h]=void 0===c.param||c.param:(e.data(g.form,"validator").resetElements(e(g)),delete a[h])}}),e.each(a,function(c,b){a[c]=e.isFunction(b)&&"normalizer"!==c?b(g):b}),e.each(["minlength","maxlength"],function(){a[this]&&(a[this]=Number(a[this]))}),e.each(["rangelength","range"],function(){var b;a[this]&&(e.isArray(a[this])?a[this]=[Number(a[this][0]),Number(a[this][1])]:"string"==typeof a[this]&&(b=a[this].replace(/[\[\]]/g,"").split(/[\s,]+/),a[this]=[Number(b[0]),Number(b[1])]))}),e.validator.autoCreateRanges&&(null!=a.min&&null!=a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),null!=a.minlength&&null!=a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength)),a},normalizeRule:function(a){if("string"==typeof a){var g={};e.each(a.split(/\s/),function(){g[this]=!0}),a=g}return a},addMethod:function(a,h,g){e.validator.methods[a]=h,e.validator.messages[a]=void 0!==g?g:e.validator.messages[a],h.length<3&&e.validator.addClassRules(a,e.validator.normalizeRule(a))},methods:{required:function(a,i,h){if(!this.depend(h,i)){return"dependency-mismatch"}if("select"===i.nodeName.toLowerCase()){var g=e(i).val();return g&&g.length>0}return this.checkable(i)?this.getLength(a,i)>0:a.length>0},email:function(g,c){return this.optional(c)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(g)},url:function(g,c){return this.optional(c)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(g)},date:function(g,c){return this.optional(c)||!/Invalid|NaN/.test(new Date(g).toString())},dateISO:function(g,c){return this.optional(c)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(g)},number:function(g,c){return this.optional(c)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(g)},digits:function(g,c){return this.optional(c)||/^\d+$/.test(g)},minlength:function(a,i,h){var g=e.isArray(a)?a.length:this.getLength(a,i);return this.optional(i)||g>=h},maxlength:function(a,i,h){var g=e.isArray(a)?a.length:this.getLength(a,i);return this.optional(i)||g<=h},rangelength:function(a,i,h){var g=e.isArray(a)?a.length:this.getLength(a,i);return this.optional(i)||g>=h[0]&&g<=h[1]},min:function(h,g,i){return this.optional(g)||h>=i},max:function(h,g,i){return this.optional(g)||h<=i},range:function(h,g,i){return this.optional(g)||h>=i[0]&&h<=i[1]},step:function(x,w,v){var u,t=e(w).attr("type"),s="Step attribute on input type "+t+" is not supported.",r=["text","number","range"],q=new RegExp("\\b"+t+"\\b"),p=t&&!q.test(r.join()),o=function(g){var c=(""+g).match(/(?:\.(\d+))?$/);return c&&c[1]?c[1].length:0},n=function(b){return Math.round(b*Math.pow(10,u))},a=!0;if(p){throw new Error(s)}return u=o(v),(o(x)>u||n(x)%n(v)!==0)&&(a=!1),this.optional(w)||a},equalTo:function(a,i,h){var g=e(h);return this.settings.onfocusout&&g.not(".validate-equalTo-blur").length&&g.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(i).valid()}),a===g.val()},remote:function(a,p,o,n){if(this.optional(p)){return"dependency-mismatch"}n="string"==typeof n&&n||"remote";var m,l,k,j=this.previousValue(p,n);return this.settings.messages[p.name]||(this.settings.messages[p.name]={}),j.originalMessage=j.originalMessage||this.settings.messages[p.name][n],this.settings.messages[p.name][n]=j.message,o="string"==typeof o&&{url:o}||o,k=e.param(e.extend({data:a},o.data)),j.old===k?j.valid:(j.old=k,m=this,this.startRequest(p),l={},l[p.name]=a,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+p.name,dataType:"json",data:l,context:m.currentForm,success:function(b){var r,q,i,c=b===!0||"true"===b;m.settings.messages[p.name][n]=j.originalMessage,c?(i=m.formSubmitted,m.resetInternals(),m.toHide=m.errorsFor(p),m.formSubmitted=i,m.successList.push(p),m.invalid[p.name]=!1,m.showErrors()):(r={},q=b||m.defaultMessage(p,{method:n,parameters:a}),r[p.name]=j.message=q,m.invalid[p.name]=!0,m.showErrors(r)),j.valid=c,m.stopRequest(p,c)}},o)),"pending")}}});var d,f={};return e.ajaxPrefilter?e.ajaxPrefilter(function(g,c,i){var h=g.port;"abort"===g.mode&&(f[h]&&f[h].abort(),f[h]=i)}):(d=e.ajax,e.ajax=function(c){var b=("mode" in c?c:e.ajaxSettings).mode,a=("port" in c?c:e.ajaxSettings).port;return"abort"===b?(f[a]&&f[a].abort(),f[a]=d.apply(this,arguments),f[a]):d.apply(this,arguments)}),e});function gpUlsFormValidation(){jQuery("form.application-form").validate({ignore:"",rules:{"q328019:q12[]":{required:true},"q340725:q12[]":{required:true},"q328019:q13[]":{required:true},"q340725:q15[]":{required:true},"q328019:q14[]":{required:true},"q340725:q13[]":{required:true},"q328019:q15[]":{required:true},"q340725:q14[]":{required:true},"q340725:q16[]":{required:true},"q340725:q17[]":{required:true},"q340929:q12[]":{required:true},"q340929:q15[]":{required:true},"q340929:q13[]":{required:true},"q340929:q14[]":{required:true}},messages:{"q328019:q12[]":{required:"<p class='sq-form-error'>Please indicate if you have read the guidance notes</p>"},"q340725:q12[]":{required:"<p class='sq-form-error'>Please indicate if you have read the guidance notes</p>"},"q340929:q12[]":{required:"<p class='sq-form-error'>Please indicate if you have read the guidance notes</p>"},"q328019:q13[]":{required:"<p class='sq-form-error'>Please indicate if your head of school aware of the application</p>"},"q340725:q15[]":{required:"<p class='sq-form-error'>Please indicate if your head of school aware of the application</p>"},"q340929:q15[]":{required:"<p class='sq-form-error'>Please indicate if you have verified if an agreement does not already exist</p>"},"q328019:q14[]":{required:"<p class='sq-form-error'>Please indicate if your your associate dean aware of the application</p>"},"q340725:q13[]":{required:"<p class='sq-form-error'>Please indicate if your your associate dean aware of the application</p>"},"q340929:q14[]":{required:"<p class='sq-form-error'>Please indicate if your your associate dean aware of the application</p>"},"q340929:q13[]":{required:"<p class='sq-form-error'>Please indicate if your head of school aware of the application</p>"},"q328019:q15[]":{required:"<p class='sq-form-error'>Please indicate if you have verified if an agreement does not already exist</p>"},"q340725:q14[]":{required:"<p class='sq-form-error'>Please indicate if you have verified if an agreement does not already exist</p>"},"q340725:q16[]":{required:"<p class='sq-form-error'>Please indicate you have done this.</p>"},"q340725:q17[]":{required:"<p class='sq-form-error'>Please indicate you have done this.</p>"}},errorPlacement:function(a,b){a.prependTo(b.parents(".sq-form-question-answer"))}})}jQuery(document).ready(function(){jQuery(".staff-lookup").each(function(){jQuery(this).autocomplete({minLength:0,source:staff,change:function(a,b){if(!b.item){jQuery(this).val("")}},focus:function(a,b){jQuery(this).val(b.item.label);return false},select:function(b,c){var a=jQuery(this).parent("div").data("type");var d=jQuery(this).attr("id");console.log(d);jQuery(this).val(c.item.label);console.log(c.item);console.log(c.item.label);console.log(c.item.value);jQuery('*[data-staff-join="'+d+'"]').val(c.item.value);return false}}).autocomplete()._renderItem=function(a,b){return jQuery("<li>").append("<div>"+b.label+"<br>"+b.value+"</div>").appendTo(a)}})});(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],function(b){a(b,window,document)})}else{a(jQuery,window,document)}})(function(e,h,i,c){var g="countrySelect",a=1,d={defaultCountry:"",defaultStyling:"inside",excludeCountries:[],onlyCountries:[],preferredCountries:["us","gb"]},k={UP:38,DOWN:40,ENTER:13,ESC:27,PLUS:43,A:65,Z:90},f=false;e(h).on("load",function(){f=true});function j(m,l){this.element=m;this.options=e.extend({},d,l);this._defaults=d;this.ns="."+g+a++;this._name=g;this.init()}j.prototype={init:function(){this._processCountryData();this._generateMarkup();this._setInitialState();this._initListeners();this.autoCountryDeferred=new e.Deferred();this._initAutoCountry();return this.autoCountryDeferred},_processCountryData:function(){this._setInstanceCountryData();this._setPreferredCountries()},_setInstanceCountryData:function(){var m=this;if(this.options.onlyCountries.length){var n=[];e.each(this.options.onlyCountries,function(q,o){var p=m._getCountryData(o,true);if(p){n.push(p)}});this.countries=n}else{if(this.options.excludeCountries.length){var l=this.options.excludeCountries.map(function(o){return o.toLowerCase()});this.countries=b.filter(function(o){return l.indexOf(o.iso2)===-1})}else{this.countries=b}}},_setPreferredCountries:function(){var l=this;this.preferredCountries=[];e.each(this.options.preferredCountries,function(o,m){var n=l._getCountryData(m,false);if(n){l.preferredCountries.push(n)}})},_generateMarkup:function(){this.countryInput=e(this.element);var m="country-select";if(this.options.defaultStyling){m+=" "+this.options.defaultStyling}this.countryInput.wrap(e("<div>",{"class":m}));var n=e("<div>",{"class":"flag-dropdown"}).insertAfter(this.countryInput);var l=e("<div>",{"class":"selected-flag"}).appendTo(n);this.selectedFlagInner=e("<div>",{"class":"flag"}).appendTo(l);e("<div>",{"class":"arrow"}).appendTo(l);this.countryList=e("<ul>",{"class":"country-list v-hide"}).appendTo(n);if(this.preferredCountries.length){this._appendListItems(this.preferredCountries,"preferred");e("<li>",{"class":"divider"}).appendTo(this.countryList)}this._appendListItems(this.countries,"");this.countryCodeInput=e("#"+this.countryInput.attr("id")+"_code");if(!this.countryCodeInput){this.countryCodeInput=e('<input type="hidden" id="'+this.countryInput.attr("id")+'_code" name="'+this.countryInput.attr("name")+'_code" value="" />');this.countryCodeInput.insertAfter(this.countryInput)}this.dropdownHeight=this.countryList.outerHeight();this.countryList.removeClass("v-hide").addClass("hide");this.countryListItems=this.countryList.children(".country")},_appendListItems:function(l,n){var m="";e.each(l,function(o,p){m+='<li class="country '+n+'" data-country-code="'+p.iso2+'">';m+='<div class="flag '+p.iso2+'"></div>';m+='<span class="country-name">'+p.name+"</span>";m+="</li>"});this.countryList.append(m)},_setInitialState:function(){var n=false;if(this.countryInput.val()){n=this._updateFlagFromInputVal()}var m=this.countryCodeInput.val();if(m){this.selectCountry(m)}if(!n){var l;if(this.options.defaultCountry){l=this._getCountryData(this.options.defaultCountry,false);if(!l){l=this.preferredCountries.length?this.preferredCountries[0]:this.countries[0]}}else{l=this.preferredCountries.length?this.preferredCountries[0]:this.countries[0]}this.defaultCountry=l.iso2}},_initListeners:function(){var m=this;this.countryInput.on("keyup"+this.ns,function(){m._updateFlagFromInputVal()});var l=this.selectedFlagInner.parent();l.on("click"+this.ns,function(n){if(m.countryList.hasClass("hide")&&!m.countryInput.prop("disabled")){m._showDropdown()}});this.countryInput.on("blur"+this.ns,function(){if(m.countryInput.val()!=m.getSelectedCountryData().name){m.setCountry(m.countryInput.val())}m.countryInput.val(m.getSelectedCountryData().name)})},_initAutoCountry:function(){if(this.options.initialCountry==="auto"){this._loadAutoCountry()}else{this.selectCountry(this.defaultCountry);this.autoCountryDeferred.resolve()}},_loadAutoCountry:function(){var l=this;if(e.fn[g].autoCountry){this.handleAutoCountry()}else{if(!e.fn[g].startedLoadingAutoCountry){e.fn[g].startedLoadingAutoCountry=true;if(typeof this.options.geoIpLookup==="function"){this.options.geoIpLookup(function(m){e.fn[g].autoCountry=m.toLowerCase();setTimeout(function(){e(".country-select input").countrySelect("handleAutoCountry")})})}}}},_focus:function(){this.countryInput.focus();var m=this.countryInput[0];if(m.setSelectionRange){var l=this.countryInput.val().length;m.setSelectionRange(l,l)}},_showDropdown:function(){this._setDropdownPosition();var l=this.countryList.children(".active");this._highlightListItem(l);this.countryList.removeClass("hide");this._scrollTo(l);this._bindDropdownListeners();this.selectedFlagInner.parent().children(".arrow").addClass("up")},_setDropdownPosition:function(){var l=this.countryInput.offset().top,n=e(h).scrollTop(),m=l+this.countryInput.outerHeight()+this.dropdownHeight<n+e(h).height(),o=l-this.dropdownHeight>n;var p=!m&&o?"-"+(this.dropdownHeight-1)+"px":"";this.countryList.css("top",p)},_bindDropdownListeners:function(){var m=this;this.countryList.on("mouseover"+this.ns,".country",function(n){m._highlightListItem(e(this))});this.countryList.on("click"+this.ns,".country",function(n){m._selectListItem(e(this))});var l=true;e("html").on("click"+this.ns,function(n){if(!l){m._closeDropdown()}l=false});e(i).on("keydown"+this.ns,function(n){n.preventDefault();if(n.which==k.UP||n.which==k.DOWN){m._handleUpDownKey(n.which)}else{if(n.which==k.ENTER){m._handleEnterKey()}else{if(n.which==k.ESC){m._closeDropdown()}else{if(n.which>=k.A&&n.which<=k.Z){m._handleLetterKey(n.which)}}}}})},_handleUpDownKey:function(l){var n=this.countryList.children(".highlight").first();var m=l==k.UP?n.prev():n.next();if(m.length){if(m.hasClass("divider")){m=l==k.UP?m.prev():m.next()}this._highlightListItem(m);this._scrollTo(m)}},_handleEnterKey:function(){var l=this.countryList.children(".highlight").first();if(l.length){this._selectListItem(l)}},_handleLetterKey:function(m){var o=String.fromCharCode(m);var l=this.countryListItems.filter(function(){return e(this).text().charAt(0)==o&&!e(this).hasClass("preferred")});if(l.length){var p=l.filter(".highlight").first(),n;if(p&&p.next()&&p.next().text().charAt(0)==o){n=p.next()}else{n=l.first()}this._highlightListItem(n);this._scrollTo(n)}},_updateFlagFromInputVal:function(){var n=this;var o=this.countryInput.val().replace(/(?=[() ])/g,"\\");if(o){var q=[];var p=new RegExp("^"+o,"i");for(var m=0;m<this.countries.length;m++){if(this.countries[m].name.match(p)){q.push(this.countries[m].iso2)}}var l=false;e.each(q,function(r,s){if(n.selectedFlagInner.hasClass(s)){l=true}});if(!l){this._selectFlag(q[0]);this.countryCodeInput.val(q[0]).trigger("change")}return true}return false},_highlightListItem:function(l){this.countryListItems.removeClass("highlight");l.addClass("highlight")},_getCountryData:function(l,o){var m=o?b:this.countries;for(var n=0;n<m.length;n++){if(m[n].iso2==l){return m[n]}}return null},_selectFlag:function(l){if(!l){return false}this.selectedFlagInner.attr("class","flag "+l);var m=this._getCountryData(l);this.selectedFlagInner.parent().attr("title",m.name);var n=this.countryListItems.children(".flag."+l).first().parent();this.countryListItems.removeClass("active");n.addClass("active")},_selectListItem:function(m){var l=m.attr("data-country-code");this._selectFlag(l);this._closeDropdown();this._updateName(l);this.countryInput.trigger("change");this.countryCodeInput.trigger("change");this._focus()},_closeDropdown:function(){this.countryList.addClass("hide");this.selectedFlagInner.parent().children(".arrow").removeClass("up");e(i).off("keydown"+this.ns);e("html").off("click"+this.ns);this.countryList.off(this.ns)},_scrollTo:function(q){if(!q||!q.offset()){return}var l=this.countryList,u=l.height(),o=l.offset().top,t=o+u,r=q.outerHeight(),n=q.offset().top,s=n+r,m=n-o+l.scrollTop();if(n<o){l.scrollTop(m)}else{if(s>t){var p=u-r;l.scrollTop(m-p)}}},_updateName:function(l){this.countryCodeInput.val(l).trigger("change");this.countryInput.val(this._getCountryData(l).name)},handleAutoCountry:function(){if(this.options.initialCountry==="auto"){this.defaultCountry=e.fn[g].autoCountry;if(!this.countryInput.val()){this.selectCountry(this.defaultCountry)}this.autoCountryDeferred.resolve()}},getSelectedCountryData:function(){var l=this.selectedFlagInner.attr("class").split(" ")[1];return this._getCountryData(l)},selectCountry:function(l){l=l.toLowerCase();if(!this.selectedFlagInner.hasClass(l)){this._selectFlag(l);this._updateName(l)}},setCountry:function(l){this.countryInput.val(l);this._updateFlagFromInputVal()},destroy:function(){this.countryInput.off(this.ns);this.selectedFlagInner.parent().off(this.ns);var l=this.countryInput.parent();l.before(this.countryInput).remove()}};e.fn[g]=function(m){var l=arguments;if(m===c||typeof m==="object"){return this.each(function(){if(!e.data(this,"plugin_"+g)){e.data(this,"plugin_"+g,new j(this,m))}})}else{if(typeof m==="string"&&m[0]!=="_"&&m!=="init"){var n;this.each(function(){var o=e.data(this,"plugin_"+g);if(o instanceof j&&typeof o[m]==="function"){n=o[m].apply(o,Array.prototype.slice.call(l,1))}if(m==="destroy"){e.data(this,"plugin_"+g,null)}});return n!==c?n:this}}};e.fn[g].getCountryData=function(){return b};e.fn[g].setCountryData=function(l){b=l};var b=e.each([{n:"Afghanistan",i:"af"},{n:"Åland Islands",i:"ax"},{n:"Albania",i:"al"},{n:"Algeria",i:"dz"},{n:"American Samoa",i:"as"},{n:"Andorra",i:"ad"},{n:"Angola",i:"ao"},{n:"Anguilla",i:"ai"},{n:"Antigua and Barbuda",i:"ag"},{n:"Argentina",i:"ar"},{n:"Armenia",i:"am"},{n:"Aruba",i:"aw"},{n:"Australia",i:"au"},{n:"Austria",i:"at"},{n:"Azerbaijan",i:"az"},{n:"Bahamas",i:"bs"},{n:"Bahrain",i:"bh"},{n:"Bangladesh",i:"bd"},{n:"Barbados",i:"bb"},{n:"Belarus",i:"by"},{n:"Belgium",i:"be"},{n:"Belize",i:"bz"},{n:"Benin",i:"bj"},{n:"Bermuda",i:"bm"},{n:"Bhutan",i:"bt"},{n:"Bolivia",i:"bo"},{n:"Bosnia and Herzegovina",i:"ba"},{n:"Botswana",i:"bw"},{n:"Brazil (Brasil)",i:"br"},{n:"British Indian Ocean Territory",i:"io"},{n:"British Virgin Islands",i:"vg"},{n:"Brunei",i:"bn"},{n:"Bulgaria",i:"bg"},{n:"Burkina Faso",i:"bf"},{n:"Burundi",i:"bi"},{n:"Cambodia",i:"kh"},{n:"Cameroon",i:"cm"},{n:"Canada",i:"ca"},{n:"Cape Verde",i:"cv"},{n:"Caribbean Netherlands",i:"bq"},{n:"Cayman Islands",i:"ky"},{n:"Central African Republic",i:"cf"},{n:"Chad",i:"td"},{n:"Chile",i:"cl"},{n:"China",i:"cn"},{n:"Christmas Island",i:"cx"},{n:"Cocos (Keeling) Islands",i:"cc"},{n:"Colombia",i:"co"},{n:"Comoros",i:"km"},{n:"Congo (DRC)",i:"cd"},{n:"Congo (Republic)",i:"cg"},{n:"Cook Islands",i:"ck"},{n:"Costa Rica",i:"cr"},{n:"Côte d’Ivoire",i:"ci"},{n:"Croatia",i:"hr"},{n:"Cuba",i:"cu"},{n:"Curaçao",i:"cw"},{n:"Cyprus",i:"cy"},{n:"Czech Republic",i:"cz"},{n:"Denmark",i:"dk"},{n:"Djibouti",i:"dj"},{n:"Dominica",i:"dm"},{n:"Dominican Republic",i:"do"},{n:"Ecuador",i:"ec"},{n:"Egypt",i:"eg"},{n:"El Salvador",i:"sv"},{n:"Equatorial Guinea",i:"gq"},{n:"Eritrea",i:"er"},{n:"Estonia",i:"ee"},{n:"Ethiopia",i:"et"},{n:"Falkland Islands",i:"fk"},{n:"Faroe Islands",i:"fo"},{n:"Fiji",i:"fj"},{n:"Finland",i:"fi"},{n:"France",i:"fr"},{n:"French Guiana",i:"gf"},{n:"French Polynesia",i:"pf"},{n:"Gabon",i:"ga"},{n:"Gambia",i:"gm"},{n:"Georgia",i:"ge"},{n:"Germany",i:"de"},{n:"Ghana",i:"gh"},{n:"Gibraltar",i:"gi"},{n:"Greece",i:"gr"},{n:"Greenland",i:"gl"},{n:"Grenada",i:"gd"},{n:"Guadeloupe",i:"gp"},{n:"Guam",i:"gu"},{n:"Guatemala",i:"gt"},{n:"Guernsey",i:"gg"},{n:"Guinea",i:"gn"},{n:"Guinea-Bissau",i:"gw"},{n:"Guyana",i:"gy"},{n:"Haiti",i:"ht"},{n:"Honduras",i:"hn"},{n:"Hong Kong",i:"hk"},{n:"Hungary",i:"hu"},{n:"Iceland",i:"is"},{n:"India",i:"in"},{n:"Indonesia",i:"id"},{n:"Iran",i:"ir"},{n:"Iraq",i:"iq"},{n:"Ireland",i:"ie"},{n:"Isle of Man",i:"im"},{n:"Israel",i:"il"},{n:"Italy",i:"it"},{n:"Jamaica",i:"jm"},{n:"Japan",i:"jp"},{n:"Jersey",i:"je"},{n:"Jordan",i:"jo"},{n:"Kazakhstan",i:"kz"},{n:"Kenya",i:"ke"},{n:"Kiribati",i:"ki"},{n:"Kosovo",i:"xk"},{n:"Kuwait",i:"kw"},{n:"Kyrgyzstan",i:"kg"},{n:"Laos",i:"la"},{n:"Latvia",i:"lv"},{n:"Lebanon",i:"lb"},{n:"Lesotho",i:"ls"},{n:"Liberia",i:"lr"},{n:"Libya",i:"ly"},{n:"Liechtenstein",i:"li"},{n:"Lithuania",i:"lt"},{n:"Luxembourg",i:"lu"},{n:"Macau",i:"mo"},{n:"Macedonia",i:"mk"},{n:"Madagascar",i:"mg"},{n:"Malawi",i:"mw"},{n:"Malaysia",i:"my"},{n:"Maldives",i:"mv"},{n:"Mali",i:"ml"},{n:"Malta",i:"mt"},{n:"Marshall Islands",i:"mh"},{n:"Martinique",i:"mq"},{n:"Mauritania",i:"mr"},{n:"Mauritius",i:"mu"},{n:"Mayotte",i:"yt"},{n:"Mexico",i:"mx"},{n:"Micronesia",i:"fm"},{n:"Moldova (Republica Moldova)",i:"md"},{n:"Monaco",i:"mc"},{n:"Mongolia",i:"mn"},{n:"Montenegro",i:"me"},{n:"Montserrat",i:"ms"},{n:"Morocco",i:"ma"},{n:"Mozambique",i:"mz"},{n:"Myanmar (Burma)",i:"mm"},{n:"Namibia",i:"na"},{n:"Nauru",i:"nr"},{n:"Nepal",i:"np"},{n:"Netherlands",i:"nl"},{n:"New Caledonia",i:"nc"},{n:"New Zealand",i:"nz"},{n:"Nicaragua",i:"ni"},{n:"Niger",i:"ne"},{n:"Nigeria",i:"ng"},{n:"Niue",i:"nu"},{n:"Norfolk Island",i:"nf"},{n:"North Korea",i:"kp"},{n:"Northern Mariana Islands",i:"mp"},{n:"Norway",i:"no"},{n:"Oman",i:"om"},{n:"Pakistan",i:"pk"},{n:"Palau",i:"pw"},{n:"Palestine",i:"ps"},{n:"Panama",i:"pa"},{n:"Papua New Guinea",i:"pg"},{n:"Paraguay",i:"py"},{n:"Peru",i:"pe"},{n:"Philippines",i:"ph"},{n:"Pitcairn Islands",i:"pn"},{n:"Poland",i:"pl"},{n:"Portugal",i:"pt"},{n:"Puerto Rico",i:"pr"},{n:"Qatar",i:"qa"},{n:"Réunion",i:"re"},{n:"Romania",i:"ro"},{n:"Russia",i:"ru"},{n:"Rwanda",i:"rw"},{n:"Saint Barthélemy",i:"bl"},{n:"Saint Helena",i:"sh"},{n:"Saint Kitts and Nevis",i:"kn"},{n:"Saint Lucia",i:"lc"},{n:"Saint Martin",i:"mf"},{n:"Saint Pierre and Miquelon",i:"pm"},{n:"Saint Vincent and the Grenadines",i:"vc"},{n:"Samoa",i:"ws"},{n:"San Marino",i:"sm"},{n:"São Tomé and Príncipe",i:"st"},{n:"Saudi Arabia",i:"sa"},{n:"Senegal",i:"sn"},{n:"Serbia",i:"rs"},{n:"Seychelles",i:"sc"},{n:"Sierra Leone",i:"sl"},{n:"Singapore",i:"sg"},{n:"Sint Maarten",i:"sx"},{n:"Slovakia",i:"sk"},{n:"Slovenia",i:"si"},{n:"Solomon Islands",i:"sb"},{n:"Somalia",i:"so"},{n:"South Africa",i:"za"},{n:"South Georgia & South Sandwich Islands",i:"gs"},{n:"South Korea",i:"kr"},{n:"South Sudan",i:"ss"},{n:"Spain",i:"es"},{n:"Sri Lanka",i:"lk"},{n:"Sudan",i:"sd"},{n:"Suriname",i:"sr"},{n:"Svalbard and Jan Mayen",i:"sj"},{n:"Swaziland",i:"sz"},{n:"Sweden",i:"se"},{n:"Switzerland",i:"ch"},{n:"Syria",i:"sy"},{n:"Taiwan",i:"tw"},{n:"Tajikistan",i:"tj"},{n:"Tanzania",i:"tz"},{n:"Thailand",i:"th"},{n:"Timor-Leste",i:"tl"},{n:"Togo",i:"tg"},{n:"Tokelau",i:"tk"},{n:"Tonga",i:"to"},{n:"Trinidad and Tobago",i:"tt"},{n:"Tunisia",i:"tn"},{n:"Turkey",i:"tr"},{n:"Turkmenistan",i:"tm"},{n:"Turks and Caicos Islands",i:"tc"},{n:"Tuvalu",i:"tv"},{n:"Uganda",i:"ug"},{n:"Ukraine",i:"ua"},{n:"United Arab Emirates",i:"ae"},{n:"United Kingdom",i:"gb"},{n:"United States",i:"us"},{n:"U.S. Minor Outlying Islands",i:"um"},{n:"U.S. Virgin Islands",i:"vi"},{n:"Uruguay",i:"uy"},{n:"Uzbekistan",i:"uz"},{n:"Vanuatu",i:"vu"},{n:"Vatican City",i:"va"},{n:"Venezuela",i:"ve"},{n:"Vietnam",i:"vn"},{n:"Wallis and Futuna",i:"wf"},{n:"Western Sahara",i:"eh"},{n:"Yemen",i:"ye"},{n:"Zambia",i:"zm"},{n:"Zimbabwe",i:"zw"}],function(l,m){m.name=m.n;m.iso2=m.i;delete m.n;delete m.i})});function initCountrySelect(a,b){jQuery("#"+a).val("");jQuery("body").append('<input type="hidden" id="'+a+'_code">');if(jQuery("#"+b).val()!==""){jQuery("#"+a).countrySelect();jQuery("#"+a).countrySelect("selectCountry",jQuery("#"+b).val())}else{jQuery("#"+a).countrySelect()}jQuery("#"+a+"_code").change(function(){var c=jQuery(this).val();if(c){c==c.toUpperCase();jQuery("#"+b).val(c)}})}jQuery(document).ready(function(){initCountrySelect("q328020_q2","q328020_q11");initCountrySelect("q340727_q2","q340727_q11");initCountrySelect("q340931_q2","q340931_q11")});jQuery(document).ready(function(){jQuery("input[type=submit]").click(function(){gpUlsFormValidation();var a=jQuery("form.application-form").valid();if(a==true){jQuery("body").prepend('<div class="preloader-container"><div class="preloader"><span class="hide">Loading search results</span> <img src="https://www.ulster.ac.uk/__data/assets/git_bridge/0010/256429/dist/assets/img/ulster-pre-loader.gif" width="169" height="169" alt="Loading results"/></div></div>')}})});