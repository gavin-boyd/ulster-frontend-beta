jQuery(document).ready(function(){function e(e){e.preventDefault(),!0===jQuery("#page_asset_builder_272204").valid()&&(jQuery("body").prepend('<div id="loading" style="width:100%; height:100%; position:fixed; background: rgba(0,0,0,.8); z-index:9999; display:table;"><div style="display:table-cell;vertical-align:middle;text-align:center;"><img src="//cdn.ulster.ac.uk/home/ulster-frontend/beta/assets/img/cool-preloader.gif" alt="Loading" /><p style="color:#fff;" id="loading-text">Creating your prospectus</p></div></div>'),jQuery.ajax({url:"%globals_asset_url%",type:"POST",data:jQuery(this).serialize(),success:function(e){var t=e,a=(jQuery(t).find("#uls_assetid").text(),jQuery(t).find("#uls_asseturl").text());jQuery("#loading-text").text("All Done. Loading your prospectus"),window.location.replace(a)},error:function(e){jQuery("#loading").remove()}}))}jQuery("#page_asset_builder_272204").validate(),jQuery("#page_asset_builder_272204").attr("onsubmit",""),jQuery("#page_asset_builder_272204").submit(e)}),jQuery(document).ready(function(){jQuery("#subjects input:radio").change(function(){jQuery("label").removeClass("active"),jQuery(this).next("label").addClass("active")})}),jQuery(document).ready(function(){jQuery("#selections input:radio").change(function(){function e(e){var t=e.response.resultPacket.resultsSummary.totalMatching,s="";if(1==t)var r="course";else var r="courses";0==t&&(s='<p class="callout warning" id="uls_validation">Please refine your search, try changing either type, attendance or campus.</p>');jQuery("#course-counter").html('<div class="card bordered radius shadow card-section"<p>We found</p><div class="stat">'+t+" <small>"+r+"</small></div><br><p>Matching your selections:</p>"+a+s+'<p><a href="#" id="build" class="button large expanded"><i class="fa fa-wrench" aria-hidden="true"></i>&nbsp;&nbsp;Build my prospectus</a></p></div>'),0==t?(jQuery("#build").addClass("uls-disabled"),jQuery("#build").click(function(e){e.preventDefault(),jQuery("#uls_validation").css("border","2px solid red")})):(jQuery("#uls_validation").remove(),jQuery("#build").removeClass("uls-disabled"),jQuery("#build").click(function(e){e.preventDefault();var t=jQuery("#page_asset_builder_272204").valid();if(jQuery(this).hasClass("uls-disabled"));else{if(!0!==t)return jQuery("html,body").animate({scrollTop:jQuery("#page_asset_builder_272204").offset().top},"500"),!1;jQuery("#page_asset_builder_272204").submit(),jQuery("button[type=submit], input[type=submit]").prop("disabled",!0),jQuery("button[type=submit], input[type=submit]").addClass("disabled"),jQuery(this).addClass("disabled")}}))}var t="",a='<ul class="angle-right">';jQuery("#selections input:radio").each(function(){if(jQuery(this).prop("checked")){var e=jQuery(this).val();if(""!==e){var s=e.replace("Department of ","");s=s.replace("The Business Institute","Business"),s=s.replace("School of ",""),s=s.replace("Belfast ",""),a+="<li>"+s+"</li>"}"All campuses"!=e&&"Full-time and Part-time"!=e||(e="");var r,u=jQuery(this).attr("name");e&&(e=e.replace(/\s/g,"+"),"metadata_field_select_272287"==u&&(r="&f.Level|Y="),"metadata_field_select_272288"==u&&("Full-time"==e&&(r="&f.Attendance|modeft="),"Part-time"==e&&(r="&f.Attendance|modept=")),"metadata_field_select_272289"==u&&(r="&f.Campus|campus="),"metadata_field_select_272290"==u&&(r="&f.School|school="),t+=r+e)}}),a+="</ul>",jQuery.getJSON("//ulster.funnelback.co.uk/s/search.json?collection=ulster-dev&profile=_default"+t,e)})}),jQuery(document).ready(function(){function e(e){return e.replace("&amp;","&")}function t(t){jQuery("input:radio").change(function(){jQuery("#metadata_field_text_281873_value").val();var a=jQuery(this).val();jQuery.each(t,function(s){if(t[s].school_name==a){var r=e(t[s].school_name),u=e(t[s].faculty_name);jQuery("#metadata_field_text_281873_value").val(r),jQuery("#metadata_field_text_281874_value").val(u)}})})}jQuery.getJSON("https://www.ulster.ac.uk/digital-prospectus/_web_services/static/4-6-18/faculties-and-schools",t)}),jQuery(document).ready(function(){function e(e){jQuery("#subjects label").each(function(){var t="",a=jQuery(this).html(),s=jQuery(this).prev("input:radio").val();jQuery.each(e,function(r){if(e[r].school_name==s){var u=e[r].school_description,i=e[r].school_image_url;t='<span style="background:url('+i+') no-repeat 0 0; background-size:cover;"><span><span><strong>'+a+"</strong></span><br><span>"+u+"</span></span></span>"}}),jQuery(this).html(t)})}jQuery("#metadata_field_select_272290_").parent("td").parent("tr").css("display","none"),jQuery.getJSON("https://www.ulster.ac.uk/digital-prospectus/_web_services/static/8-10-18/faculties-and-schools",e)}),jQuery(document).ready(function(){jQuery("input.phone").each(function(){var e={utilsScript:"//cdn.ulster.ac.uk/home/ulster-frontend/beta/assets/js/utils.js?v=1.2",formatOnDisplay:"true",hiddenInput:"metadata_field_text_272286_value"};jQuery(this).intlTelInput(e)})});